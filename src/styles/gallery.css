.gallery__uploader {
  display: flex; gap: 10px; align-items: center; flex-wrap: wrap; margin-bottom: 12px;
}
.upload {
  display: inline-block; padding: 10px 12px; border: 1px dashed #444; border-radius: 8px; cursor: pointer;
  background: #0f141a; color: var(--text);
}
.upload:hover { background: #2b3138; }
.caption {
  min-width: 220px; flex: 1 1 240px;
  background:#0f141a; border:1px solid #333; border-radius:10px; padding:10px 12px; color:var(--text);
}

/* Masonry-like fluide via columns */
.gallery {
  margin-top: 16px;
  column-count: 3;
  column-gap: 12px;
}
.gallery__item {
  break-inside: avoid; margin-bottom: 12px; position: relative; background:#0f141a; border:1px solid #222; border-radius: 12px; overflow: hidden;
  box-shadow: 0 4px 12px rgba(0,0,0,.2);
}
.gallery__item img { width: 100%; display: block; }

.gallery__caption {
  display: flex; justify-content: space-between; align-items: center; gap: 8px;
  padding: 8px 10px; font-size: 14px; background: #0f141a;
}
.gallery__caption button {
  background: transparent; border: 0; color: #e6edf3; cursor: pointer; font-size: 16px; line-height: 1;
}
.gallery__caption button:hover { color: #ff8080; }

@media (max-width: 900px) { .gallery { column-count: 2; } }
@media (max-width: 540px) { .gallery { column-count: 1; } }

.muted { opacity: .75; }
.gallery__actions { display: inline-flex; gap: 8px; }
.gallery__caption button[aria-label="Éditer"] { color: #9ecbff; }
.gallery__caption button[aria-label="Éditer"]:hover { color: #c7e1ff; }